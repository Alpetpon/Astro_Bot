# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–≤—É—Ö –±–æ—Ç–æ–≤: –í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂ –∏ –£—á–µ–±–Ω—ã–π –±–æ—Ç

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç —Ç–µ–ø–µ—Ä—å —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –±–æ—Ç–æ–≤:

### 1. **–û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (–í–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂)** - `bot.py`
- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –ö–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤ –∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
- –ü–æ–∫—É–ø–∫–∞ –∫—É—Ä—Å–æ–≤/–º–∏–Ω–∏–∫—É—Ä—Å–æ–≤/–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫)
- –ü–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏ –∫—É—Ä—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —É—á–µ–±–Ω—ã–π –±–æ—Ç

### 2. **–£—á–µ–±–Ω—ã–π –±–æ—Ç** - `learning_bot.py`
- –î–æ—Å—Ç—É–ø –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
- –ú–æ–¥—É–ª–∏ –∏ —É—Ä–æ–∫–∏ –∫—É—Ä—Å–æ–≤
- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –º–∏–Ω–∏-–∫—É—Ä—Å–æ–≤ —Å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–π —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π
- –í–∏–¥–µ–æ, –ª–µ–∫—Ü–∏–∏, –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env`

```env
# –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (–≤–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂)
BOT_TOKEN=your_sales_bot_token_here

# –£—á–µ–±–Ω—ã–π –±–æ—Ç
LEARNING_BOT_TOKEN=your_learning_bot_token_here
LEARNING_BOT_USERNAME=your_learning_bot_username

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö MongoDB (–æ–±—â–∞—è –¥–ª—è –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤)
MONGODB_URL=mongodb://localhost:27017
MONGODB_DB_NAME=astro_bot

# –ÆKassa (–¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–æ—Ç–∞)
YOOKASSA_SHOP_ID=your_shop_id
YOOKASSA_SECRET_KEY=your_secret_key

# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã
ADMIN_ID=123456789
```

### 2. –°–æ–∑–¥–∞—Ç—å –±–æ—Ç–æ–≤ –≤ BotFather

#### –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (–≤–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂):
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –≤ @BotFather
2. –£–∫–∞–∂–∏—Ç–µ –∏–º—è: "Astro Bot (Sales)"
3. –£–∫–∞–∂–∏—Ç–µ username: "YourAstroSalesBot"
4. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env` –∫–∞–∫ `BOT_TOKEN`

#### –£—á–µ–±–Ω—ã–π –±–æ—Ç:
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –≤ @BotFather
2. –£–∫–∞–∂–∏—Ç–µ –∏–º—è: "Astro Learning Bot"
3. –£–∫–∞–∂–∏—Ç–µ username: "YourAstroLearningBot" (–±–µ–∑ @)
4. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ `.env` –∫–∞–∫ `LEARNING_BOT_TOKEN`
5. –î–æ–±–∞–≤—å—Ç–µ username (–±–µ–∑ @) –≤ `.env` –∫–∞–∫ `LEARNING_BOT_USERNAME`

## –ó–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–∞ –±–æ—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1 - –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
python bot.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2 - –£—á–µ–±–Ω—ã–π –±–æ—Ç
python learning_bot.py
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker Compose

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –æ–±–∞ –±–æ—Ç–∞ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
docker-compose up -d
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç:
- MongoDB (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
- sales_bot (–æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç)
- learning_bot (—É—á–µ–±–Ω—ã–π –±–æ—Ç)
- mongo-express (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ë–î –Ω–∞ –ø–æ—Ä—Ç—É 8081)

–û—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
docker-compose down
```

–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose logs -f

# –¢–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
docker-compose logs -f sales_bot

# –¢–æ–ª—å–∫–æ —É—á–µ–±–Ω—ã–π –±–æ—Ç
docker-compose logs -f learning_bot
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ—Ü–µ—Å—Å –ø–æ–∫—É–ø–∫–∏ –∫—É—Ä—Å–∞:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –±–æ—Ç–µ** (@YourAstroSalesBot):
   - –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤
   - –í—ã–±–∏—Ä–∞–µ—Ç –∫—É—Ä—Å –∏ —Ç–∞—Ä–∏—Ñ
   - –û–ø–ª–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ –ÆKassa
   
2. **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã**:
   - –ü–ª–∞—Ç–µ–∂ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π "üéì –ü–µ—Ä–µ–π—Ç–∏ –∫ –æ–±—É—á–µ–Ω–∏—é"
   - –ö–Ω–æ–ø–∫–∞ –≤–µ–¥–µ—Ç –Ω–∞ —É—á–µ–±–Ω—ã–π –±–æ—Ç (@YourAstroLearningBot)

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —É—á–µ–±–Ω–æ–º –±–æ—Ç–µ**:
   - –ó–∞–ø—É—Å–∫–∞–µ—Ç `/start`
   - –í–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
   - –ü–æ–ª—É—á–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º, –º–æ–¥—É–ª—è–º –∏ —É—Ä–æ–∫–∞–º
   - –î–ª—è –º–∏–Ω–∏-–∫—É—Ä—Å–æ–≤ –º–æ–¥—É–ª–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ (—Ä–∞–∑ –≤ –¥–µ–Ω—å)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–û–±–∞ –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–æ–¥–Ω—É –æ–±—â—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö MongoDB**. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–∫—É–ø–∫–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å–∞–º –≤ —É—á–µ–±–Ω–æ–º –±–æ—Ç–µ
- –•—Ä–∞–Ω–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
.
‚îú‚îÄ‚îÄ bot.py                          # –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç (–≤–æ—Ä–æ–Ω–∫–∞ –ø—Ä–æ–¥–∞–∂)
‚îú‚îÄ‚îÄ learning_bot.py                 # –£—á–µ–±–Ω—ã–π –±–æ—Ç (–æ–±—É—á–µ–Ω–∏–µ)
‚îú‚îÄ‚îÄ config.py                       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ start.py                    # –°—Ç–∞—Ä—Ç–æ–≤–æ–µ –º–µ–Ω—é (–æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç)
‚îÇ   ‚îú‚îÄ‚îÄ menu.py                     # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
‚îÇ   ‚îú‚îÄ‚îÄ courses.py                  # –ö–∞—Ç–∞–ª–æ–≥ –∫—É—Ä—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ consultations.py            # –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ payments_handler.py         # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π + —Å—Å—ã–ª–∫–∞ –Ω–∞ —É—á–µ–±–Ω—ã–π –±–æ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ cabinet.py                  # –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–∫—É–ø–æ–∫)
‚îÇ   ‚îú‚îÄ‚îÄ learning_handlers.py        # –í–°–ï —Ö—ç–Ω–¥–ª–µ—Ä—ã —É—á–µ–±–Ω–æ–≥–æ –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ database/                       # –û–±—â–∞—è –ë–î –¥–ª—è –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤
‚îú‚îÄ‚îÄ docker-compose.yml              # –ó–∞–ø—É—Å–∫ –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤
‚îî‚îÄ‚îÄ .env                            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤)
```

## –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏

### –í –æ—Å–Ω–æ–≤–Ω–æ–º –±–æ—Ç–µ (bot.py):
- –£–±—Ä–∞–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∫—É—Ä—Å–æ–≤ –∏–∑ –ª–∏—á–Ω–æ–≥–æ –∫–∞–±–∏–Ω–µ—Ç–∞
- –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∫—É—Ä—Å–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —É—á–µ–±–Ω—ã–π –±–æ—Ç
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–∫—É–ø–æ–∫

### –í —É—á–µ–±–Ω–æ–º –±–æ—Ç–µ (learning_bot.py):
- –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–æ–≤
- –ú–æ–¥—É–ª–∏, —É—Ä–æ–∫–∏, –≤–∏–¥–µ–æ, –ª–µ–∫—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –æ–±—â—É—é –ë–î

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (MongoDB):
- –û–±—â–∞—è –¥–ª—è –æ–±–æ–∏—Ö –±–æ—Ç–æ–≤
- –¢–∞–±–ª–∏—Ü—ã: users, payments
- –ü–ª–∞—Ç–µ–∂–∏ —Å–≤—è–∑–∞–Ω—ã —Å –∫—É—Ä—Å–∞–º–∏ —á–µ—Ä–µ–∑ `course_slug` –∏ `product_type`

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–∞–∫–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**:
   - –û—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç = –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ –ø—Ä–æ–¥–∞–∂–∏
   - –£—á–µ–±–Ω—ã–π –±–æ—Ç = —á–∏—Å—Ç—ã–π —Ñ–æ–∫—É—Å –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ

2. **–õ—É—á—à–∏–π UX**:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –ø—É—Ç–∞—é—Ç—Å—è –º–µ–∂–¥—É –ø–æ–∫—É–ø–∫–æ–π –∏ –æ–±—É—á–µ–Ω–∏–µ–º
   - –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á

3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**:
   - –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
   - –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å

4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**:
   - –£—á–µ–±–Ω—ã–π –±–æ—Ç –æ—Ç–¥–µ–ª–µ–Ω –æ—Ç –ø–ª–∞—Ç–µ–∂–µ–π
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ —á–µ—Ä–µ–∑ –ë–î

## –í–∞–∂–Ω–æ

‚ö†Ô∏è **–ù–µ –∑–∞–±—É–¥—å—Ç–µ**:
1. –î–æ–±–∞–≤–∏—Ç—å –æ–±–∞ —Ç–æ–∫–µ–Ω–∞ –≤ `.env`
2. –£–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `LEARNING_BOT_USERNAME` (–±–µ–∑ @)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±–∞ –±–æ—Ç–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ MongoDB –∑–∞–ø—É—â–µ–Ω–∞ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞

